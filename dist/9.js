(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{166:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return f}));var r=n(56),o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},i=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},c=n(172),u="https://project-10521262.herokuapp.com/",l=function(e){return a(void 0,void 0,void 0,(function(){var t;return i(this,(function(n){switch(n.label){case 0:return t=Object(r.c)("token"),[4,c(u+e,{method:"GET",withCredentials:!0,headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t}},{method:"GET"}).then((function(e){return e.json()}))];case 1:return[2,n.sent()]}}))}))},s=function(e,t){return a(void 0,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n={method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(o({},t))},[4,c(u+e,n,{method:"POST"}).then((function(e){return e.json()}))];case 1:return[2,r.sent()]}}))}))},f=function(e,t,n){return void 0===n&&(n=!1),a(void 0,void 0,void 0,(function(){var a,l;return i(this,(function(i){switch(i.label){case 0:return a=Object(r.c)("token"),l={method:n?"PUT":"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:a},withCredentials:!0,body:JSON.stringify(o({},t))},[4,c(u+e,l,{method:"POST"}).then((function(e){return e.json()})).catch((function(e){console.log(e)}))];case 1:return[2,i.sent()]}}))}))}},174:function(e,t,n){"use strict";var r=n(48),o=n(13),a=n(15),i=n(35),c=n(0),u=n.n(c),l=n(196),s=n(40),f=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},h=s.b.div(b||(b=f(["\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background: rgba(255,255,255, 0.5);\n"],["\n    position: fixed;\n    height: 100%;\n    width: 100%;\n    background: rgba(255,255,255, 0.5);\n"]))),p=Object(s.b)(l.a)(d||(d=f(["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n"],["\n    position: fixed;\n    top: 50%;\n    left: 50%;\n"])));var b,d,g=function(){return c.createElement(h,null,c.createElement(p,{size:"large"}))},y=n(166),m=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},v=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}};t.a=Object(i.c)((function(e){return{userProfile:e.counter.userProfile}}),(function(e){return Object(a.b)({changePage:function(e){return Object(o.d)(e)},setUserProfile:r.b},e)}))((function(e){var t=Object(c.useState)(!1),n=t[0],r=t[1];return Object(c.useEffect)((function(){!function(){m(this,void 0,void 0,(function(){var t;return v(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,Object(y.a)("me")];case 1:return(t=n.sent())&&t.user?(e.setUserProfile(t),r(!0)):e.changePage("/auth"),[3,3];case 2:return n.sent(),e.changePage("/auth"),[3,3];case 3:return[2]}}))}))}()}),[]),n?e.children:u.a.createElement(g,null)}))},372:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(13),a=n(15),i=n(35),c=n(174),u=n(367),l=n(356),s=n(52),f=n(358),h=n(274),p=n(276),b=n(224),d=n(368),g=n(364),y=n(104),m=n(373),v=n(374),w=n(40),j=n(166),E=n(48),O=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e},x=function(e,t,n,r){return new(n||(n=Promise))((function(o,a){function i(e){try{u(r.next(e))}catch(e){a(e)}}function c(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,c)}u((r=r.apply(e,t||[])).next())}))},k=function(e,t){var n,r,o,a,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=i.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(e){a=[6,e],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}},P=u.a.Title,S=l.a.Search,M=w.b.span(z||(z=O(["\n  font-weight:bold;\n\n  span{\n    font-weight: normal;\n    font-size: 12px;\n  }\n"],["\n  font-weight:bold;\n\n  span{\n    font-weight: normal;\n    font-size: 12px;\n  }\n"]))),T=Object(w.b)(s.a)(A||(A=O(["\n  margin-bottom: 25px;\n  font-weight:bold;\n"],["\n  margin-bottom: 25px;\n  font-weight:bold;\n"]))),C=Object(w.b)(S)(F||(F=O(["\n  margin-bottom: 25px;\n"],["\n  margin-bottom: 25px;\n"]))),D=w.b.div(H||(H=O(["\n  display: flex;\n  justify-content: space-between;\n"],["\n  display: flex;\n  justify-content: space-between;\n"])));var z,A,F,H;t.default=Object(i.c)((function(e){return{userProfile:e.counter.userProfile}}),(function(e){return Object(a.b)({changePage:function(e){return Object(o.d)(e)},setViewedMsg:E.c},e)}))((function(e){var t=Object(r.useState)(null),n=t[0],o=t[1],a=Object(r.useState)(""),i=a[0],u=a[1],l=["#87d068","#f56a00","#1890ff"];r.useEffect((function(){!function(){x(this,void 0,void 0,(function(){var e;return k(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,Object(j.a)("messages")];case 1:return e=t.sent(),o(e.reverse()),[3,3];case 2:return t.sent(),o([]),[3,3];case 3:return[2]}}))}))}()}),[]);var s,w=function(e){var t=e.icon,n=e.text;return r.createElement(f.a,null,r.createElement(t),n)};return r.createElement(c.a,null,r.createElement("div",{className:"layout"},r.createElement(h.a,null,r.createElement(p.a,{span:2,lg:6}),r.createElement(p.a,{span:20,lg:12},r.createElement(P,null,"Message center"),r.createElement(b.a,{orientation:"left",plain:!0},"Messages total ("+((null==n?void 0:n.length)?n.length:"")+")"),r.createElement(D,null,r.createElement(C,{allowClear:!0,onChange:function(e){u(e.currentTarget.value)},placeholder:"Search username",style:{width:200}}),r.createElement(T,{type:"link",size:"large",onClick:function(){e.changePage("/add-message")}},"Add new message")),null===n?r.createElement("div",null," ",[1,2,3,4].map((function(e,t){return r.createElement(d.a,{key:t,loading:!0,active:!0,avatar:!0})}))," "):r.createElement(g.b,{itemLayout:"horizontal",dataSource:(s=n||[],""!==i?(n&&(s=n.filter((function(e){return e.username.indexOf(i)>-1}))),s):s),renderItem:function(t,n){return r.createElement(g.b.Item,{style:{cursor:"pointer"},onClick:function(){e.setViewedMsg(t),e.changePage("/view-message")},actions:[r.createElement(w,{icon:m.a,text:t.replies.length,key:"list-vertical-message"})]},r.createElement(g.b.Item.Meta,{avatar:r.createElement(y.a,{style:{backgroundColor:n%3==0?l[2]:n%2==0?l[1]:l[0]},icon:r.createElement(v.a,null)}),title:r.createElement(M,null,t.title," ",r.createElement("span",null,(o=t.Created_date,a=new Date(o),i=new Date,i.getFullYear()>a.getFullYear()?i.getFullYear()-a.getFullYear()+" years ago":i.getFullYear()===a.getFullYear()&&i.getMonth()!==a.getMonth()?i.getMonth()-a.getMonth()+" months ago":i.getMonth()===a.getMonth()&&i.getDay()!==a.getDay()?i.getDay()-a.getDay()+" days ago":i.getDay()===a.getDay()&&i.getHours()!==a.getHours()?i.getHours()-a.getHours()+" hours ago":i.getHours()===a.getHours()&&i.getMinutes()!==a.getMinutes()?i.getMinutes()-a.getMinutes()+" minutes ago":"Just now"))),description:t.username}),t.comment);var o,a,i}})))))}))}}]);
//# sourceMappingURL=9.js.map